{% extends "base.html" %}
{% block content %}

<main class="container flex-fill ms-5">
    <h4 class="mt-3">Cadastro de Artista</h4>
    <form action="{{url_for('artists')}}" method="POST">
        <div class="form-group">
            <label>Nome:</label>
            <input type="text" name="name" class="form-control w-50 mb-3">
        </div>
        <div class="form-group">
            <label>Nacionalidade:</label>
            <input type="text" name="nacionality" class="form-control w-50 mb-3">
        </div>
        <div class="form-group">
            <label>Ano de Nascimento:</label>
            <input type="number" name="birth_year" class="form-control w-50 mb-3">
        </div>
    
        <input type="submit" value="Cadastrar" class="btn btn-dark mb-2 button-dark">
    </form>
    <hr>

    <h4 class="mt-3">Lista de Artistas</h4>
    <table class="table table-striped w-75 mt-3 mb-5">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Nacionalidade</th>
                <th>Ano de Nascimento</th>
                <th style="text-align: center;" colspan="2">Ação:</th>
            </tr>
        </thead>
        <tbody>
            {% for artist in artists_list %}
            <tr>
                <td>{{artist.name}}</td>
                <td>{{artist.nacionality}}</td>
                <td>{{artist.birth_year}}</td>
                <td style="text-align: center; width: 130px;"><a class="btn btn-warning" href="{{url_for('artistEdit', id=artist.id)}}">Editar</a></td>
                <td style="text-align: center; width: 130px;"><a class="btn btn-danger" href="{{url_for('artists', id=artist.id)}}" onclick="return confirm('Deseja mesmo excluir o artista {{artist.name}}?')">Excluir</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <p style="text-align: center;">
        <!-- Se houver registros anteriores -->
        {% if artists_list.has_prev %}
            <a href="{{url_for('artists', page=artists_list.prev_num)}}"><< Anterior</a>
        {% endif %}
        <!-- Se houver próximos registros -->
        {% if artists_list.has_next %}
            <a href="{{url_for('artists', page=artists_list.next_num)}}">Próximo >></a>
    </p>
        {% endif %}
</main>

{% endblock content %}